<?xml version="1.0" encoding="UTF-8"?>
<html>
    <head>
        <style type="text/css">table {border-collapse: collapse;}td, th
            {border: 1px solid grey; padding: 2px 4px;}</style>
    </head>
    <body>
        <h2>Page 1</h2>
        <p/>
        <p>JulienBourdailletandJean-GabrielGanasciaUniversit´ePierreetMarieCurieLaboratoired’InformatiquedeParis6ComputerScienceDepartmentjulien.bourdaillet@lip6.fr,jean-gabriel.ganascia@lip6.fr</p>
        <p/>
        <p>Thepairwisecomparisonsoftheseversionsaredonebyphilologists.Theylookforfourkindsofmodificationsbe-tweentwoversions:insertions,deletions,replacementsandmoveswhicharethefouroperatorsdefinedbytextualgeneti-cians.Thisisaverytime-consumingtaskandtheanalysisoflongtexts(e.g.anentirenovel)canrequireahugeamountoftime.Thisisthereasonwhywecreatedasoftwareapplica-tion,namedMEDITE,thatautomatesthisprocess.</p>
        <p>ThispaperdescribesatextualalignernamedMEDITEwhosespecificityisthedetectionofmoves.Itwasdevelopedtosolveaproblemfromtextualgeneticcriticism,ahumanitiesdisciplinethatcomparesdifferentversionsofauthors’textsinordertohighlightinvariantsanddifferencesbe-tweenthem.Ouralignerhandlesthistaskanditisgeneralenoughtohandleothers.Thealgorithm,basedontheeditdistancewithmoves,alignsdu-</p>
        <p/>
        <p/>
        <p/>
        <p>gorithm.Wepresentanexperimentalevaluationofouralgorithmbycomparingitwithsimilaronesinfourexperiments.Thefirstonedealswiththealign-mentoftextswithalargeamountofrepetitions;weshowitisaverydifficultproblem.Twootherex-perimentsareduplicatelinkageandtextreusede-tection.Finally,thealgorithmistestedwithsyn-theticdata.</p>
        <p>Thetaskoftextualalignmentcanbesummarizedasfol-lows:beinggiventwotextversions,invariantsanddiffer-encesbetweenthemhavetobeidentified.Theinputdataisintheformofunstructuredrawtextfiles;theydonotneedtobestructuredasXMLfilesordatabaserecords.Therearetwotypesofduplicatedcharacterblocks:invariantblocks,conservedatthesamepositionsbetweenthetwotexts,andmovedblocks,shiftedfromonepositioninthefirsttexttoanotheroneinthesecondtext.Thegoalistoidentifyandlinktheseduplicatedblocks.Whentherearealotofdiffer-encesbetweenthetwotexts,i.e.alotofnoise,theduplicatealignmentbecomesadifficulttask.</p>
        <p/>
        <p/>
        <p>WepresentrelatedliteratureinSection2.Wemodelizetextualalignmentwiththenotionofeditdistancewithmoves,aspresentedinSection3;thisformalismhandlesexactlytheoperatorsdefinedbytextualgeneticians.Further,themovedetectionallowstheidentificationandlinkageofmoredu-plicateddatathansimpleralgorithmsbasedoneditdistanceorlongestcommonsubsequence.ThecomputationoftheeditdistancewithmovesisexponentialandwedevelopedaheuristicalgorithmimplementedinsideMEDITE.Oural-gorithmischaracter-based,andnotonlyword-orsentence-based;thisisnecessaryfortextualgeneticcriticismwhereevensmallmodificationshavetobeidentified.</p>
        <p>NoisyunstructuredtextdatamayhavedifferentsourcessuchastheWeb,handwrittentextsorhistoricaltexts.Wefoundsuchdatawhenstartingacollaborationwithateamofphilol-ogistswhocreatedanewschoolofliterarystudiesinthesev-entiescalledtextualgeneticcriticism[Deppmanetal.,2004].Thegoalofthisdisciplineistostudythegenesisofatextinordertounderstandthewillandtheworkofanauthor.Thisisdonebystudyingdraftsletbyauthorsduringthewritingprocess.</p>
        <p>InSection4,fourexperimentsarepresented.Inaprevi-ouswork,MEDITEhasbeenevaluatedwithliterarytextsprovidedbytextualgeneticians[BourdailletandGanascia,2006].Inthispaperwepresentnewresultsforseveraltasks.Inliterarytexts,thereareusuallyveryfewrepetitionsbecauseauthorsavoidthem;whereasthisisnotaprobleminscien-tifictextsandoftenevenanecessity.Whilestudyingthesetextswithalargeamountofrepetitions,wefoundthatitwasadifficultproblemfortextualaligners.Thefirstexperimentcomparesouralgorithmwithsimilaronesforscientifictextalignment,weshowthatthiskindoftextspresentspecifici-ties.Thesecondexperimentdealswithduplicatedetection</p>
        <p>Anauthorbeginswritingafirstdraftonapapersheet.Af-terwards,hemodifiesthetextbyannotating,barringwordsorcorrectingspellingfaults,andinsertingwordsorsentences.Thesemodificationscanbedoneseveraltimesonthesamedraft.Attheend,thesedraftscanbeveryhardtoreadandunderstand,andcannotbestudieddirectlybymachineviaop-ticalcharacterrecognition(OCR).Fromthesedrafts,philolo-gistsextractlineartranscriptionscalledversions.Versionex-tractionfromdraftsisoutofmachinecapabilitiesandneedtobehuman-made.Forexample,intheshortstoryentitled“LaRobeNoire”byAndr´eeChedid(anEgyptianauthorwritinginFrench),therearesevenversionsonthesamedraft.</p>
        <p/>
        <p/>
        <p/>
        <h2>Page 2</h2>
        <p>andlinkageontwodatasets:the“Restaurant”datasetandadatasetofourown,the“Conference”dataset;becauseouralgorithmdiscoversmovesbetweentexts,itisabletolinkduplicateswhereasstandardalignersdonot.Thethirdexper-imentisthedetectionoftextreusebetweentextssharingshortpassages,thisisalsoaconsequenceofmovedetectioncapa-bility.Andthefourthexperimentissyntheticdataalignmentwhenareferencealignmentisknown.Finally,weconcludeinSection5.</p>
        <p/>
        <p/>
        <p>movesbyexactmatchingofmaximallengthstrings.TESASusesaninterestingapproachbycomparingandscoringallthesentencestogether[Cloughetal.,2002].WealsocomparedMEDITEwiththeselasttwoalgorithmsinSection4.[FengandManmatha,2006]presentahierarchicalHMM-basedalgorithmthatalignstheOCRoutputofbookwithan-othereditionofthesamebook.Hapax(wordspresentonlyonceineachtext)arefirstaligned;thenwordsequencesbe-tweenhapaxarealignedwithaHMMmodel;andfinallytextbetweenexactlymatchedwordsisalignedatcharacterlevel.WecompareMEDITEtothisalgorithminanexperimentofsyntheticdataalignmentinSection4.Atextualalignmentforparaphraseextractionfromaunilingualcorpusispresentedin[ReginaBarzilay,2001].Se-quencessuchastwodifferenttranslationsofasamenovelarealignedtofindparaphrases.Thealgorithmreliesonthefollowingsteps:firstsentencesarealigned;thenthecontextbetweenmatchingwordsinsidesentencesisstudied;contextfeaturesareextracted(mainlymorpho-syntaxictags);ama-chinelearningalgorithmkeepsonly“good”contextswhichcorrespondtoparaphrases.</p>
        <p/>
        <p/>
        <p>Thealignmenttaskissuedfromtextualgeneticcriticismcanbemodelizedbytheeditdistancewithmoves.Twocharacter</p>
        <p/>
        <p>Incomputerscience,textualalignmentisviewedasapar-ticularcaseofsequencealignment.Mostofthealgorithmsdesignedtosolvethisproblemareoptimisationproceduresbydynamicprogramming.Levenshteinintroducedtheno-tionofeditdistance[1966]whichenablesthetransforma-tionofasequenceintoanotheronewiththreeoperators:in-sertions,deletionsandreplacements.Thisnotionhasbeenextensivelystudiedanddeveloped;referto[Bergrothetal.,2000]forarecentsurvey.Theextensionofthenotionofeditdistancewithblockmoveswasintroducedby[Tichy,1984].[LoprestiandTomkins,1997]introducedseveralmodelsofblockeditdistance.[ShapiraandStorer,2002]provedtheNP-completenessofthecomputationoftheeditdistancewithmovesbetweentwosequencesandgaveworst-caseboundsforagreedyapproximationalgorithmofthisproblem.</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>Sequencealignmenthasalsobeenwidelystudiedinbioin-formatics[Gusfield,1997].Therearetwoclassesofalign-mentalgorithms:globalalignersissuedfrom[NeedlemanandWunsch,1970]fullyaligntwosequencesbyminimizinganeditdistancewhereaslocalalignersissuedfrom[SmithandWaterman,1981]findregionsofhighsimilaritybetweentwosequences.[WilburandLipman,1984]introducedthenotionoffragmentalignment:highsimilarityfragmentsarechainedtogethertoformafullalignment.ThisisnowwidelyusedbyrecentalignerssuchasAVID[Brayetal.,2003].</p>
        <p>Inbiologicalsequencestherearealotofduplicatedsub-sequences:halfofthehumangenomeisestimatedtobeduplicatedsubsequences.Theseduplicationsareaproblemforbiologistsandcomparedsequencesaregenerallyprepro-cessedwithtoolsthatmaskduplicationssuchasRepeat-Masker[Smitetal.,1996].</p>
        <p>Machinetranslationusesalignment,butthisisabilingualalignment(whereasourtaskisunilingualalignment)andthegranularityismostofthetimesentence-based.Word-basedalignmentsarestillinanearlyresearchstage[Chiaoetal.,2006].Further,thecomparedtextsareknowntobethetrans-lationofonetotheotherandthisimpliesthatthereisgener-allynonoisebetweentexts.</p>
        <p>thesetofaccentuatedanddiacriticcharactersand{SEP}isthesetofseparators,mainlypunctuationmarks.Fouroperatorsaregiven:characterinsertion,deletionandsubstitutionandblockmoves.Ablockisa3-tuple(p,q,l)wherepisthepositioninA,qthepositioninBandlthelengthoftheblock.Acostisassignedtoeachoperator.ThegoalistofindasequenceofoperationsofminimumcostwhichtransformsAintoB.Characterblocksnotinvolvedinaneditoperationarecalledinvariantblocks:theyarepresentinAandB.ThedecompositionofAandBintoalistofin-serted,deleted,substituted,movedandinvariantblocksformsanalignment.ThecomputationoftheeditdistancewithmovesbetweentwosequencesisNP-complete[ShapiraandStorer,2002],thatiswhywedevelopedaheuristicalgorithmtoaddressthisproblem.Ouralgorithmiscloselyrelatedtofragmentalignmental-gorithmssketchedinSection2.Sequencesareprocessedinfoursteps.ThefirststepidentifiesrepeatedcharacterblocksbetweenAandB.Thesecondstepalignstheserepeatedblocksinordertodeterminewhichareinvariantandwhicharemoved.Thethirdstepisarecursiveiterationofsteps1and2betweeneverypairofalignedblocksduringthestep2.Thelaststepisthedeductionofinsertions,deletionsandreplacements.Figure1presentsthealgorithm.</p>
        <p>Textualalignmentsoftwareapplicationsaregenerallyis-suedfromthesourcecodealignmentcommunitywhoseDiff[Myers,1986]isthemostfamousexample.Forthistask,line-by-linecomparisonissufficientbutforourtask,thisgranularityistoolarge.Someofthecommercialapplicationsfortextualalignmentpresentacceptableresults[BourdailletandGanascia,2006];wecomparedthemwithMEDITEinourexperiments(Section4).TheGreedyString-Tilingalgo-rithm[Wise,1996]isclosetoouralgorithm,ithandlesblock</p>
        <p>RepeatedblockidentificationTheidentificationofre-peatedcharacterblocksisdonebybuildingageneralizedsuf-fixtreebetweenAandB[Ukkonen,1995].Thisdatastruc-tureenablestofindallrepeatedcharacterblocksbetweenAandB.Thesizeofthissetofblocksisexponentialandonly</p>
        <p/>
        <h2>Page 3</h2>
        <p/>
        <p/>
        <p/>
        <p>Possiblealignmentsareevaluatedwithacostfunctionc;thegoalistofindaminimalcostalignment.Thisisequiv-alenttoashortestpathproblemwherethegoalstateistheminimalcostalignment.Theinitialstatecorrespondstothestatewherenopairinghasbeenchosenyet.Ateachstepofthealgorithmonepairingmustbechosen;thisisdonebyes-timatingthealignmentcostinducedbyeachpossiblepairingwiththefunctionc.Itisagreedybestfirstsearchalgorithm,sothebestpairingischosenandthenthisprocessisiterateduntilthegoalisachieved.Inordertofindthegoalstate,theheuristichastobeadmissible,i.e.toneveroverestimatethedistancetothegoal.Inourcasetheheuristicmustneverover-estimatethecostofanalignment;wedetailbelowwhycisadmissible.Theevaluationofthealignmentcostinducedbythepair-</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>heuristiccostofthenextblockstoalignh(i,j),suchthatc(i,j)=g(i,j)+h(i,j).Thesecostsarecomputedusingthefollowingformulas:</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>setofunalignedblocksduringprevioussteps,thosethathavenotbeenpairedandconsideredasmoved.</p>
        <p>asubsetisinteresting:thesubsetofsupermaximalexactmatches(SMEMs)[Gusfield,1997].Amatch(p,q,l)isaSMEMifandonlyif:</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>•A[p−1]6=B[q−1]andA[p+l+1]6=B[q+l+1](maximality);</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>•andneitherA[p..p+l]norB[q..q+l]areincludedinanothermaximalmatch(super-maximality).</p>
        <p>symmetricdifferenceofthenextblockstoalignduringnextsteps.BlocksinSD(i,j)arepresenteitheronlyin</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>bepossibletopairthemduringnextstepsandbecauseofthattheywillbeconsideredasmovesandwillchargethealignmentcost.</p>
        <p>ThisdefinitiondoesnotpreventoverlappingbetweenSMEMswhereasSMEMshavetobenon-overlappinginourapplication.Overlapsareresolvedheuristicallybycuttingthemonseparatorsbecauseitisbettertohaveaninter-wordcutthananintra-wordcutinnaturallanguagesequences.This</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>i.e.h(i,j)isthelowerboundofthealignmentcostofthenextblocks.Itneveroverestimatesthealignmentcostbecausetheminimalalignmentcostwillbeh(i,j);</p>
        <p/>
        <p/>
        <p/>
        <p>SMEMs.Toillustratethealgorithm,weusethefollowingexample:thealignmentofthetwosentences“Thismorningthecatob-servedlittlebirdsinthetrees.”and“Thecatwasobserv-ingbirdsinthelittletreesthismorning,itobservedbirdsfortwohours.”.WeuseMEDITE’scapabilitytocomparesequencescase-andseparator-insensitivelytotreatthisex-ample.Afterthefirststep,thefollowingSMEMsareidenti-</p>
        <p/>
        <p>Thiscomputationisequivalenttofindinganalignmentthatisoptimalinthesenseofthemaximizationofthesumofin-variantblocksizeandtheminimizationofthesumofmovedblocksize.Inourexample,afterthesecondstep,thefollowingalignedblocks(inbold)areconsideredasinvariant;the</p>
        <p/>
        <p/>
        <p>trees.”and“Thecatwasobservingbirdsinthelittletreesthismorning,itobservedbirdsfortwohours.”.The</p>
        <p>and“Thecatthismorning,it</p>
        <p>observedlittlebirdsinthetrees.”wasobservingbirdsinthelittletrees</p>
        <p/>
        <p>word“birds”repeated3timesdoesnotappearintheSMEMlistbecausethefirsttwooccurrencesareincludedinlongerSMEMs.Haditbeeninthelist,thesuper-maximalitywouldnotberespected.</p>
        <p>RepeatedblockalignmentEachoftheseSMEMscanbeeitheraninvariantoramovedblock.ThepairwisealignmentofSMEMsenablestomakethedecision:alignedSMEMsareconsideredasinvariantsandunalignedasmoved.Becausethespaceofpossiblealignmentsiscombinatorial[Kolmanetal.,</p>
        <p/>
        <p/>
        <p/>
        <p>RecursivestepThethirdstepconsistsinloopingoverthepairingsresultingfromstep2andinconsideringthesubse-quencesbetweeneachpairofalignedblocks.Thesesubse-quencesareprocessedagainwithsteps1and2.Itallowsthepairingofnewblockswhicharethenincludedinthemainalignment.Thisrecursivestepenablesthepairingofblockswhichwouldotherwisehavebeenleftunaligned.</p>
        <p/>
        <p/>
        <p/>
        <h2>Page 4</h2>
        <p/>
        <p/>
        <p/>
        <p>Intheexample,thesubsequences“observedlittle”and“wasobserving”occurbetweentheinvariantblocks“thecat”and“birdsinthe”.Recursivestep1findstheSMEM“observ”andrecursivestep2alignsthem.Finallythefi-</p>
        <p/>
        <p/>
        <p>littlebirdsinthetrees.”and“Thecatwasobservingbirdsinthelittletreesthismorning,itobservedbirds</p>
        <p>fortwohours.”.Themovedblock“observed”islostbuttheinvariantblock“observ”isdiscovered.Thealgorithmfavourslocalsimilaritiesratherthanlong-distancematching.</p>
        <p>58572927272524242321</p>
        <p>2.183.894.995.807.838.7710.5711.2912.5113.14</p>
        <p>pattedanspinceplusgrenouillequandmouvementsli´eemusclessont</p>
        <p>Table1:DuplicatewordsinClaudeBernard’stexts.“#Occ.”isthenumberofwordoccurrencesinbothtexts.“%Texts”isthecumulativepercentageofwordsize(incharacters)inbothtexts.</p>
        <p>OtherblockdeductionInsertions,deletionsandreplace-mentscanthenbededuced.Deletionsarenon-repeatedblocksinAandinsertionsarenon-repeatedblocksinB.Fur-ther,whenthereisadeletedblockdinAandaninsertedblockiinBbetweentwopairsofalignedblocks,andthera-tio|d|/|i|reachesathresholdt,thendandiaretransformed</p>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>isconsideredasadeletionandthethreenotframedblocksofthesecondsequenceareconsideredasinsertions.</p>
        <p>44.1</p>
        <p>ExperimentsExperiment1:verynoisytextalignment</p>
        <p>Figure2:CumulatedpercentagetextsizeofwordsinClaudeBernard’stexts(topcurve)andinthecorpus(bottomcurve)</p>
        <p>percentagetextsizeofthese8texts.Forexample,the15mostfrequentwordsofClaudeBernard’stextsrepresent17%oftexts’sizewhereas,onaverage,theyrepresent8.3%ofthesizeofcorpustexts.47.68%ofthetwotextsizeconsistsinwordsrepeatedatleast3times;thisinvolvesambiguityforthelinkageofthesewords.Inthisexperiment,ClaudeBernard’stextsarecomparedwithMEDITE,MicrosoftWord(usingthe‘Documentcom-parisonandfusion’command),SoftInterfaceDiffDocandTESAS.Inpreviouswork[BourdailletandGanascia,2006],wecomparedMEDITEwithtenotheralignmentsoftwareandonlyWordandDiffDocgaveacceptableresults;theotheronesgavepoorresults.TESASwasnotconsideredinourpreviouswork.Thelargeamountofrepetitionsandnoisebetweenthetextsandthegranularityofthealignment(finerthansentence-based)avoidthedefinitionofareferencealignmentbecausealotofchoicesarepossible;andconsequentlyInformationRe-trieval’smeasures,likeprecisionandrecall,cannotbeused.</p>
        <p>Thisfirstexperimentprocessesverynoisydatawhichhavebeenprovidedbyepistemologists.ClaudeBernardwasaFrenchphysiologistofthenineteenthcentury,oneofthefathersofmodernmedicine.Duringsomeexperimentshewasstudyingtheeffectsofcurare(poison)onlivingorgan-ismsbyinjectingcurareintofrogs.Experimentnotesweretakenbyanassistantduringtheexperiment;thesenotesareshortsentenceswrittenintelegraphicstyle.Someyearslater,ClaudeBernardwroteanacademicsynthesisexposinghisscientificmethodwhereheexplainedagaintheseexperimentsbyrewritingthetextfromthenotes.Thissecondtextisasci-entificpaper,allsentencesaregrammaticallycorrectandtheycanbeverydifferentfromthoseofthenotes.Thenotesandthesynthesisarecloselyrelatedbuttheformisverydifferentbetweenthesetwotexts:thisisafirstnotionofnoise.Andthereisalargeamountofduplicatewordsbe-tweenthetwotexts:thisisasecondnotionofnoise.Thefirsttext(experimentnotes)is5090characterslongfor884wordsandthesecondtext(academicsynthesis)is8559characterslongfor1525words.Table1presentstheoccurrencenumberofthetoptenwords.Wordssuchasde-terminersandarticles(i.e.functionwords)havebeenomittedfromthiscount.Forexample,itcanbeseenthattheword“patte”(“leg”)isrepeated58timesandcovers2.18%textsize.WordfrequenciesclearlyfollowaZipfdistribution(thefrequencyofwordsisinverselyproportionaltotheirrankinthefrequencytable)butinthesetextstheweightofmostfre-quentwordsisparticularlyimportant.ThetopcurveofFigure2presentsthecumulatedpercentageofClaudeBernardtextsizeinfunctionofwordfrequencies.Thebottomcurvewasestablishedfromacorpusof8shortstoriesandessays(ofsizesimilartoClaudeBernard’stexts);itistheaveragecumulated</p>
        <p/>
        <h2>Page 5</h2>
        <p/>
        <p>#invariantcharacters#invariantblocks#movedcharacters#movedblocks#duplicatedcharacters#duplicatedblocks%duplicated/|texts|</p>
        <p>38762561205105508136137.23</p>
        <p>17061203152434485855435.59</p>
        <p>238616200238616217.48</p>
        <p>291835600291835621.38</p>
        <p>Table2:ComparisonoftheanalysisofClaudeBernard’stextswithMEDITE,MicrosoftWord,SoftInterfaceDiffDocandTESAS.</p>
        <p/>
        <p>230015700230015716.85</p>
        <p>266228000266228019.50</p>
        <p>#invariantcharacters#invariantblocks#movedcharacters#movedblocks#duplicatedcharacters#duplicatedblocks%duplicated/|texts|</p>
        <p>362821870345433126331.73</p>
        <p>1706120120894145710721.35</p>
        <p>Table3:SameresultsasTable2aftermanualanalysisofalignments.</p>
        <p>TheresultsofthiscomparisonarepresentedinTable2.Thefourapplicationsidentifyinvariantcharacterblocksbe-tweenthetwotextsbutonlyMEDITEandTESASidentifymovedblocks.Duplicatedblocksaredefinedasthesumofinvariantandmovedblocks.MEDITEidentifies361dupli-catedcharacterblocksrepresenting37.23%ofthesizeofthetwotexts,MicrosoftWordidentifies162duplicatedblocks(17.48%),SoftInterfaceDiffDoc356blocks(21.38%)andTESAS554blocks(35.59%).</p>
        <p>largestnumberofblocks,butalargepartofthesepairingsarefunctionwordpairingswhicharecorrectincontextbutdonotbringimportantinformation.SimilarresultsoccurwithTESAS:itfindsthelargestnumberofmovedblocksbutalargepartofthesepairingsarefunctionwordspairingthathavebeenremovedinthesecondtable.TESASfindsmoremovedblocksthanMEDITEbutthisisbecauseTESASdoesnotalignthemcorrectlyasinvariantblockswhereasMEDITEdoes.Wordfound10pairingsthatMEDITEdidnotfind:3weresemanticallyimportantand7werefunctionwords.DiffDocfound16pairingsthatMEDITEdidnotfind:2wereseman-ticallyimportantand14werefunctionwords.Ourresultsarebetterbecauseoftherecursivestepofouralgorithm.Withoutthisstep,whatwecallmaskingeffectsoc-cur(seetheexampleof“observe”inSection3):long-distancelargeblockpairingsmaskandpreventlocalsmallerblockpairings.Thisnotionisclosetothenotionofshadowef-fectidentifiedby[Arslanetal.,2001]inbiologicalsequenceswhereshorthighlysimilarpairingsarediscardedbecauseoflongerlesssimilarpairings.Twoothersoftwareapplicationshavealsobeenevaluated.WinMergeisoneoftherarecommercialalignerswhichde-tectmovedblocksbutresultswereverypoor:itidentifiedonlyoneinvariantblockof18charactersandnomovedblocks.ReuseAnalysisWorkbench(RAW),animplementa-tionoftheGreedyString-Tilingalgorithmby[Cloughetal.,2002],wasalsoevaluatedbuttheresultswereonlythehigh-lightingofduplicates,blockswerenotpairedtogetherandthealignmentevaluationwasnotpossible.Forthisexperiment,wecomparedonlyClaudeBernard’stexts;weareseekingsimilartextswithalargeamountofduplicatesinordertohavemorestatisticallysignificantre-sults.Butmoregenerallytheevaluationofthegoodnessofanalignmentremainsanopenquestion.Becauseofthelackofreferencealignment,thisproblemissimilartounsuper-visedlearning(i.e.clustering)whereclasseswouldbeblocktypes.Forclustering,measuressuchashomogeneity,com-pactnessorsimilaritybetweenobjectsinsideclasses,orsepa-rationbetweenclassesareused.Tousethesemeasuresinourcase,featureswouldhavetobeextractedfromblockssuchaslength,position,characterdistributionorpart-of-speechtags.Wearecurrentlyevaluatingwhichfeaturestoextractinordertocontinuethiswork.</p>
        <p/>
        <p/>
        <p>Theseresultsarerawresults.Wemanuallycheckedthequalityofalignmentsproducedtoevaluateifeachblockpair-ingwascorrect.ThedetailedanalysisofMEDITE’sresultsshowsthatmostoftheinvariantblockpairingsarecorrect,butsomecanbeconsideredasabusivepairings:twoblockscanbepairedbecausetheyareactuallyidenticalbutwhenexaminingmanually(andsemantically)thecontext,wecanseethatthecontextisdifferentandthepairingabusive.Itcomesfromthesecondnotionofnoiseweintroduced:thelargeamountofduplicatewordsbetweenthetwotexts.Nev-ertheless,MEDITEidentifiesimportantpairs:thosewhicharesemanticallyimportantforthemeaningofthesentence.Further,somemovedblockspairingareabusive:thoseoffunctionwordswhichhavebeenremoved.Table3presentstheseresultswhereabusivepairingshavebeenremoved.</p>
        <p>Thesecondexperimentdealswithduplicatedetectioninsidecollections.Twodatasetsareprocessed:the“Restaurant”datasetandthe“Conference”dataset.Forthisexperiment,onlyMEDITEandRAWarecompared.WordandDiffDoccompletelyfailtoalignthesedatasetsbecausetheydonothandlemoves.TESASisbasedonsentencealignmentand,becauseofthelargenumberofpunctuationmarksinthetwodatasets(duetoabbreviationsinthefirstdataset,andauthorlists,addresslistsandpapertitlesintheseconddataset),thealgorithmfailstopairduplicates.</p>
        <p>ThedetailedanalysisofWord’sresultsshowsthatWordonlyfindsasubsetofMEDITE’sinvariantblockpairingsandmissesalotofpairings.Someabusivepairingswerealsoremoved.TheanalysisofDiffDoc’sresultsshowsthatitistheapplicationfindingthelargestnumberofinvariantblockpairings,butactuallyalargepartofthesepairingsisthepair-ingoffunctionwords:wordswhicharenotsemanticallyim-portant.Evenafterremovingabusivepairings,italignsthe</p>
        <p>“Restaurant”datasetThe“Restaurant”datasetisacollec-tionof864restaurantrecordsfromtheFodor’sandZagat’s</p>
        <p/>
        <p/>
        <p/>
        <h2>Page 6</h2>
        <p>ThisduplicatelinkageexperimentshowsthatMEDITEpresentsgoodresults.Thealgorithmwasnotdevelopedforthistaskbutitisgeneralenoughtohandleit.MEDITEgener-atessomenoisebypairingcitiesinthefirstdatasetandcoun-triesinthesecond,butthisnoisecouldbeavoidedwithsim-pleadaptationofthealgorithm:regularexpressiononpunc-tuationmarksorcity/countrystopwordpreprocessing.</p>
        <p/>
        <p/>
        <p>restaurantguidesthatcontains112duplicates.MEDITEwasnotdevelopedforthiskindofduplicateidentificationbut,be-causeitdetectsmoves,itisabletohandlethistask.Thecomparisonfocusesonthetextfilesoftworestaurantslistswherewepreviouslydeletedthephonenumbers.Table4presentstheresultsoftheexperiment.Forthetest1,wecom-paredthetwotextsbyallowingthematchingoffullwordsonly:SMEMoverlappingcutsinsidewordswerenotpermit-ted(seeSection3),i.e.allblocksaren-grams.Forthetest2,thesecutswerepermittedanditenablesthematchingoflongercharacterblocks.</p>
        <p/>
        <p/>
        <p>1011883</p>
        <p>#namesonly#addressesonly#names+adresses#missed</p>
        <p>175846</p>
        <p>Thethirdexperimentconcernstextreusedetection.Thisno-tionintroducedby[Cloughetal.,2002]describeshowcon-tentfromasourceisreusedandeventuallymodifiedtocreateanewtext.Thisistypicallythecaseofplagiarismorofjour-nalismwherenewsagenciesproducetextsthatarereusedbynewspapers.Wecomparedtwopairsofsuchtexts.ThefirsttestisthealignmentofaFrenchnewsagency’sdispatchandanewspa-perarticlederivedfromthedispatchwherefourparagraphshavebeencopiedwithsomemodificationsinside.Thesec-ondtestisthealignmentoftwomid-seventeenthcenturyEn-glishnewspaperarticlefromtheLancasterNewsbookCorpuswherefourparagraphshavealsobeencopiedwithmodifica-tions.Thegoalistolinktherelatedparagraphs.</p>
        <p/>
        <p>Table4:“Restaurant”datasetcomparison.“#namesonly”isthenumberofduplicateswhereonlythenamematchingiscorrect.“#addressesonly”isthenumberofduplicateswhereonlytheaddressmatchingiscorrect.“#names+adresses”isthenumberofduplicateswherebothnameandaddressmatchingsarecorrect.“#missed”isthenumberofduplicateswherematchinghasnotbeenfound.</p>
        <p>44</p>
        <p>00</p>
        <p>40</p>
        <p>44</p>
        <p>FrenchtextsEnglishtexts</p>
        <p/>
        <p>Inthefirsttest,only6duplicatesaremissedandinthesecondonly3.Thesegoodresultsarepossiblebecauseofthemoves’detectionbyMEDITE’salgorithm:duplicatedrestau-rantswithdifferentnamesoccuratdifferentpositionsinthetwofilesandonlyanalgorithmthatdetectsmovescanlinkthem.Further,thematchingbetweenanyidenticalsubse-quences,andnotonlybetweenwords,enablesthepairingofduplicateswherethenameortheaddresschanges.</p>
        <p>Table5presentstheresultsoftheexperiment.OnlyMEDITEandTESASpassedthetwotests.TESASwases-peciallydesignedforthistask,whereasMEDITEwasnotbutachievesthesameresults.</p>
        <p/>
        <p/>
        <p>ThegoalofthisexperimentistoevaluatethequalityofMEDITEonsyntheticdatawhenareferencealignmentex-ists.Givenatextandanoisemodel,asecondtextisgener-atedbyalteringthefirstone;thealignmentbetweenthetextsisrecordedduringthealterationprocess.Then,itispossibletoevaluatethequalityofthealignerbycomparingitsresultswiththereferencealignment.Thisexperimentissimilartotheonepresentedin[FengandManmatha,2006].</p>
        <p>FirstnoisemodelThenoisemodelallowstogenerateamodifiedtextfromanoriginaltextinthefollowingway.Ra-tiosofinsertions,deletionsandreplacementsontheoriginaltextsizearesetbeforeprocessing.Thencharacterblocksarerepeatedlyinsertedinthemodifiedtext,deletedintheoriginaltextandreplacedbetweenbothtextsuntilratiosarereached.Thepositionswhereoperationsoccurarechosenrandomlyoverthesizeofthetexts(overlappingoperationsarenotal-lowed).Theoperationsdealwithcharacterblocksratherthansinglecharactersinordertosimulaterealoperationsonwords;thesizeofcharacterblocksisrandomlychosenbe-tween1and25(i.e.singlecharactersareallowed).Duringthisprocessthepositionsintheoriginaltextwheredeletions</p>
        <p>“Conference”datasetThe“Conference”datasetiscom-posedoftwocollections:thelistofscientificcommitteemembersattheLREC2006conferenceandthelistofac-ceptedpapersforthisconference.Wecopiedtheselistsfromtheconference’swebsite,resultingintworawtextfiles(with-outanyHTMLmarkers).Theduplicatesarethe178committeememberswhoappearinthelistofacceptedpapers.Thelistofcommitteemembersis302peoplelongandeachfilelineisintheformat:SurnameFirstName,Laboratoryand/orUniversity,Cityand/orCoun-try.Theformatisnotstrict,somecommascanbeomitted.Thepaperlistis540paperslongandeachpaperisinthefor-mat:PaperNumberFirstNameSurname,PaperTitle.Manypapershaveseveralauthors;eachfieldisseparatedbysev-eralcarriagereturns;insomepapersthereareauthorinitialsinsteadoffullfirstname.WecomparedthetwolistswithMEDITE(intra-wordcutswerenotpermitted).161ofthe178duplicateswerefound.Themissedduplicatesare:in5cases,onlythefirstnamewasfoundbutnotthesurname;in5others,thefirstnamewasmatchedwiththefirstnameofanotherperson;in3cases,thesurnamematchingwasbetweenpersonswiththesamename;and2duplicatesweremissed.</p>
        <p/>
        <h2>Page 7</h2>
        <p>resultingintextswitha20anda40%differencerespectively.ResultsarepresentedinTable7.</p>
        <p/>
        <p/>
        <p/>
        <p>86.56%95.19%27mn8s</p>
        <p>78.36%86.18%77mn17s</p>
        <p>AverageaccuracyrateAverageweightedaccuracyrateAverageruntime</p>
        <p>Table7:Resultsofthesyntheticdataalignmentwiththesec-ondnoisemodel</p>
        <p>occur,thepositionsinthemodifiedtextwhereinsertionsoc-curandthepositionsinbothtextswherereplacementsoccurarerecorded.Finally,areferencealignmentbetweentheorig-inalandthemodifiedtextisproduced.Fortheexperimentwehavechosena520Kcharacterslongnovelfortheoriginaltext.Fivemodifieddocumentsweregeneratedwiththenoisemodel.ThenthedocumentswerealignedwithMEDITEandaccuracyratesevaluated.Twose-riesoftestswithdifferentmodificationratioswereconducted:inthefirstonethereare5%ofinsertions,5%ofdeletionsand5%ofreplacements,whichmeansthatthereisa15%differencebetweenoriginalandmodifiedtexts;inthesecondseries,theratioissetto10%,meaningthatthereisa30%difference.Foreachofthefourkindsofcharacters(in-sertions,deletions,replacementsandinvariants)theaccuracyrateisdefinedasthenumberofcorrectlyalignedcharacters/thetotalnumberofcharacters.Thentheaverageaccuracyrateofthesefourratesiscalculated.Fortheaverageweightedaccuracyrate,thefouraccuracyratesareweightedwiththeirratioofthetexts’sizes.Theaverageruntimesofalignmentsisalsocalculated.Table6presentstheresultsofthisexperi-ment.</p>
        <p/>
        <p/>
        <p/>
        <p>94.48%98.16%11mn5s</p>
        <p>89.27%94.0%27mn53s</p>
        <p>AverageaccuracyrateAverageweightedaccuracyrateAverageruntime</p>
        <p>Itcanbeobservedthataverageaccuracyratesdecreasesig-nificantlybutweightedaccuracyrateskeepbetterscores.Itmustbekeptinmindthatdifferenceratesbetweentextsare20and40%insteadof15and30%withthefirstnoisemodel.Further,thedifferencebetweenweightedandnon-weightedaccuracyratesindicatesthatinvariantblockhaveabetterclas-sificationratethanotherblocks.ThisisconfirmedinTable8whichpresentstheaverageconfusionmatrices:referencealignmentlabelsareinlinesandMEDITEalignmentlabelsincolumns.Mainerrorscomefromtheidentificationofmovesasinsertionsordeletions;butamovecanbeconsideredasadeletionplusaninsertion.Insertionsanddeletionsarealsomistakenforreplacements,butreplacementscanalsobecon-sideredasadeletionplusaninsertion.Thisimpliesthatitisadecisionproblem:ourdecisionmodelisverysimpleforreplacements(seeSection3)andmaybeimproved.</p>
        <p/>
        <p/>
        <p>Table6:Resultsofthesyntheticdataalignmentwiththefirstnoisemodel</p>
        <p>ThispaperpresentsMEDITE,theapplicationwedevelopedtoaddressapragmaticproblemissuedfromtextualgeneticcriticism.Oursequencealignmentalgorithmdetectsmovesandenablestoidentifyandlinkduplicatecharacterblocksbetweentwotexts.Thealgorithmiscomparedwithsimilaronesinfourexperiments.Itsurpassesthemforverynoisytextalignment,averydifficulttask.Itwasnotdesignedforduplicatelinkageandtextreusedetection,neverthelessitisgeneralenoughtohandlethesetaskswithouttheneedofanyadaptation.Itcanbeveryusefulinmorespecializedapplica-tionsoftheselasttwotasks.Ourresultsarelessgoodthanthoseof[FengandManmatha,2006]butouralgorithmismoregeneralbecauseithandlesmovesandcouldbeadaptedeasily.</p>
        <p>Whencomparingourresultswiththosedescribedin[FengandManmatha,2006],weobservethatouraverageaccuracyratesare5pointsinferior(onaverage).ThealgorithmofFengandManmathapre-alignstextsbylookingforhapax;oural-gorithmcouldbeeasilymodifiedwiththispre-alignmentstepwhichwouldincreaseourresults.Ontheotherhand,oural-gorithmdetectsmovesbetweentextswhereasFengandMan-matha’salgorithmdoesnot.Further,wethinkthatweightedaccuracyratesreflectbetterthequalityofanalignmentbe-causewithoutweightingtheweightsofmodifiedcharactersareoverweighted.Theintroductionofweightsenablestobal-anceaccuracyrates.TheexperimentwasrealizedonaPentium4,2.4GHzwith1GBofRAM.MEDITEisimplementedinPython,ahigh-levellanguagegoodforprototypingbutslow.AClanguageimplementationwouldallowtowinanorderofmagnitudeinspeed.Nevertheless,thespeedbottleneckofouralgorithmisthecalculationofsymmetricdifferencesbetweenlistsofSMEMs(seeSection3)whichisquadraticinthelengthofthelists.</p>
        <p>Weareworkingwithateamdealingwithmachinetrans-lationonanongoingexperimentsimilartothetaskofpara-phraseextractionpresentedin[ReginaBarzilay,2001](seeSection2).Thegoalistoalignamachinetranslationout-putwithareferencetextinordertoidentifymachinetransla-tors’errorsandtocorrectthemautomatically.Wealsoplantoadaptthealgorithmformedievaltextalignmentwherewordspellingisnotwell-establishedandcanchangebetweentwotextversionsaccordingtothecopyists’mood.</p>
        <p/>
        <p>NoisemodelwithmovesThissecondnoisemodelissim-ilartothepreviousonebutmovesarealsoincludedinthemodeltogeneratethemodifiedtextfromtheoriginal.Hencecharacterblockmoves,shiftedfromonepositionintheorigi-naltexttoanotheroneinthemodified,areintroduced.Againmodificationratiosof5and10%foreachoperationaretested</p>
        <p>Wewouldliketothanktheanonymousrefereesfortheirmanyusefulcomments.</p>
        <p/>
        <p/>
        <p/>
        <h2>Page 8</h2>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p/>
        <p>5%Del.</p>
        <p>10%Del.</p>
        <p>94.00.211.460.721.47</p>
        <p>2.3214.5217.7876.348.25</p>
        <p>0.767.559.2588.404.38</p>
        <p>0.080.071.760.8466.43</p>
        <p>98.070.210.140.701.43</p>
        <p>0.320.173.992.1859.56</p>
        <p>InvariantsInsertionsDeletionsReplacementsMoves</p>
        <p>1.6076.779.4315.55</p>
        <p>0.52087.764.6514.05</p>
        <p>0.5692.1605.4013.70</p>
        <p>1.7585.1011.3215.16</p>
        <p/>
        <p/>
        <p>HardnessandApproximations.InProceedingsofthe15hInternationalSymposiumonAlgorithmsandComputation(ISAAC),2004.</p>
        <p>[Arslanetal.,2001]AbdullahN.Arslan,OmerEgecioglu,andPavelA.Pevzner.Anewapproachtosequencecom-parison:normalizedsequencealignment.Bioinformatics,17(4):327–337,2001.</p>
        <p>[Levenshtein,1966]V.I.Levenshtein.Binarycodescapableofcorrectingdeletions,insertionsandreversal.Cybernet-icsandControlTheory,10(8):707–710,1966.</p>
        <p>[Bergrothetal.,2000]L.Bergroth,H.Hakonen,andT.Raita.ASurveyofLongestCommonSubsequenceAlgorithms.InSPIRE’00:ProceedingsoftheSeventhIn-ternationalSymposiumonStringProcessingInformationRetrieval,2000.</p>
        <p>[LoprestiandTomkins,1997]DanielP.LoprestiandAn-drewTomkins.BlockEditModelsforApproximateStringMatching.TheoreticalComputerScience,181(1):159–179,1997.</p>
        <p>[Myers,1986]EugeneW.Myers.AnO(ND)DifferenceAl-gorithmandItsVariations.Algorithmica,1(2):251–266,1986.</p>
        <p>[BourdailletandGanascia,2006]JulienBourdailletandJean-GabrielGanascia.MEDITE:AUnilingualTextualAligner.InTapioSalakoskietal.,editor,AdvancesinNaturalLanguageProcessing,5thInternationalConfer-enceonNLP,FinTAL2006,Turku,Finland,Proceedings,volume4139ofLectureNotesinArtificialIntelligence,pages458–469.Springer,2006.</p>
        <p>[NeedlemanandWunsch,1970]SaulNeedlemanandChris-tianWunsch.Ageneralmethodapplicabletothesearchforsimilaritiesintheaminoacidsequenceoftwoproteins.JournalofMolecularBiology,48(3):443–453,1970.</p>
        <p>[Brayetal.,2003]NickBray,InnaDubchak,andLiorPachter.AVID:AGlobalAlignmentProgram.GenomeRes.,13(1):97–102,2003.</p>
        <p>[ReginaBarzilay,2001]KathleenMcKeownReginaBarzi-lay.ExtractingParaphrasesfromaParallelCorpus.inProceedingsofACL/EACL,2001.</p>
        <p>[ShapiraandStorer,2002]DanaShapiraandJamesA.Storer.EditDistancewithMoveOperations.InAlbertoApostolicoandMasayukiTakeda,editors,CPM,volume2373ofLectureNotesinComputerScience,pages85–98.Springer,2002.</p>
        <p>[Chiaoetal.,2006]Yun-ChuangChiao,OlivierKraif,Do-miniqueLaurent,ThiMinhHuyenNguyen,NasredineSemmar,Franc¸oisStuck,JeanV´eronis,andWajdiZa-ghouani.Evaluationofmultilingualtextalignmentsys-tems:theARCADEIIproject.ProceedingsoftheLREC2006Conference,2006.</p>
        <p>[Smitetal.,1996]A.F.A.Smit,R.Hubley,andP.Green.Re-peatMaskerOpen-3.0,1996.</p>
        <p>[Cloughetal.,2002]PaulClough,RobertGaizauskas,ScottPiao,andYorickWilks.METER:MEasuringTExtReuse.Inproceedingsofthe40thAnniversaryMeetingfortheAs-sociationforComputationalLinguistics(ACL-02),pages152–159,2002.</p>
        <p>[SmithandWaterman,1981]TempleF.SmithandMichaelS.Waterman.IdentificationofCommonMolecularSubsequences.JournalofMolecularBiology,147:195–197,1981.</p>
        <p>[Deppmanetal.,2004]JedDeppman,DanielFerrer,andMichaelGroden,editors.GeneticCriticism-TextsandAvant-textes.UniversityofPennsylvaniaPress,2004.</p>
        <p>[Tichy,1984]WalterF.Tichy.TheString-to-StringCorrec-tionProblemwithBlockMoves.ACMTrans.Comput.Syst.,2(4):309–321,1984.</p>
        <p>[Ukkonen,1995]EskoUkkonen.On-LineConstructionofSuffixTrees.Algorithmica,14(3):249–260,1995.</p>
        <p>[FengandManmatha,2006]ShaoleiFengandR.Man-matha.Ahierarchical,HMM-basedautomaticevaluationofOCRaccuracyforadigitallibraryofbooks.InJCDL’06:Proceedingsofthe6thACM/IEEE-CSjointconfer-enceonDigitallibraries,pages109–118,NewYork,NY,USA,2006.ACMPress.</p>
        <p>[WilburandLipman,1984]W.J.WilburandDavidJ.Lip-man.Thecontextdependentcomparisonofbiologicalse-quences.SIAMJ.AppliedMathematics,44(3):557–567,1984.</p>
        <p>[Gusfield,1997]DanGusfield.AlgorithmsonStrings,TreesandSequences:ComputerScienceandComputerBiology.CambridgeUniversityPress,1997.</p>
        <p>[Wise,1996]MichaelJ.Wise.YAP3:ImprovedDetec-tionofSimilaritiesinComputerProgramandOtherTexts.SIGCSEBulletin(ACMSpecialInterestGrouponCom-puterScienceEducation),28,1996.</p>
        <p>[Kolmanetal.,2004]PetrKolman,AvrahamGoldstein,andJieZheng.MinimumCommonStringPartitionProblem:</p>
        <p/>
    </body>
</html>
